function [real_P,real_V_u,imag_V_u,real_G_u,imag_G_u] = multibody_dynamics(B_c,B_f,B_p,B_s,F_f_mag,F_f_phase,F_s_mag,F_s_phase,K_f,K_p,K_s,m_c,m_f,m_s,w)
%MULTIBODY_DYNAMICS
%    [real_P,real_V_u,imag_V_u,real_G_u,imag_G_u] = MULTIBODY_DYNAMICS(B_c,B_f,B_p,B_s,F_f_mag,F_f_phase,F_s_mag,F_s_phase,K_f,K_p,K_s,M_C,M_F,M_S,W)

%    This function was generated by the Symbolic Math Toolbox version 9.1.
%    16-Jun-2024 01:02:10

t2 = cos(F_f_phase);
t3 = cos(F_s_phase);
t4 = sin(F_f_phase);
t5 = sin(F_s_phase);
t6 = B_f.*w;
t7 = B_p.*w;
t8 = B_s.*w;
t9 = B_c.*2.0;
t10 = B_c.^2;
t11 = B_f.^2;
t12 = B_s.^2;
t13 = F_f_mag.^2;
t14 = F_s_mag.^2;
t15 = K_f.^2;
t16 = K_s.^2;
t17 = m_c.^2;
t18 = m_f.^2;
t19 = m_s.^2;
t20 = w.^2;
t21 = w.^3;
t23 = B_f.*K_s;
t24 = B_s.*K_f;
t25 = K_f.*K_s;
t29 = -F_s_phase;
t30 = -K_f;
t31 = -K_s;
t22 = t20.^2;
t26 = t9.*w;
t27 = K_s.*t6;
t28 = K_f.*t8;
t32 = F_f_mag.*K_s.*t2;
t33 = F_s_mag.*K_f.*t3;
t34 = m_f.*t20;
t35 = m_s.*t20;
t36 = F_f_mag.*K_s.*t4;
t37 = F_s_mag.*K_f.*t5;
t38 = K_p+t7;
t39 = -t25;
t40 = B_c.*F_f_mag.*t2.*w;
t41 = F_f_mag.*t2.*t8;
t42 = B_c.*F_s_mag.*t3.*w;
t43 = F_s_mag.*t3.*t6;
t45 = B_c.*F_f_mag.*t4.*w;
t46 = F_f_mag.*t4.*t8;
t47 = B_c.*F_s_mag.*t5.*w;
t48 = F_s_mag.*t5.*t6;
t49 = F_f_phase+t29;
t50 = B_f+B_s+t9;
t51 = m_c.*t20.*2.0;
t52 = t6.*t8;
t53 = m_s.*t6.*w;
t54 = m_f.*t8.*w;
t61 = F_s_mag.*t3.*t30;
t62 = F_s_mag.*t5.*t30;
t65 = t10.*t20;
t66 = m_c.*t9.*t20;
t67 = m_c.*t9.*t21;
t73 = F_f_mag.*m_c.*t2.*t20;
t75 = F_s_mag.*m_c.*t3.*t20;
t77 = F_f_mag.*m_c.*t4.*t20;
t79 = F_s_mag.*m_c.*t5.*t20;
t44 = m_f.*m_s.*t22;
t55 = t6.*t35;
t56 = t8.*t34;
t57 = K_f.*t35;
t58 = K_s.*t34;
t59 = t17.*t22;
t60 = t38.^2;
t63 = cos(t49);
t64 = sin(t49);
t68 = -t42;
t69 = -t43;
t71 = -t45;
t72 = -t46;
t74 = F_f_mag.*t2.*t35;
t76 = F_s_mag.*t3.*t34;
t78 = F_f_mag.*t4.*t35;
t80 = F_s_mag.*t5.*t34;
t81 = -t53;
t82 = -t54;
t85 = -t65;
t86 = -t73;
t88 = -t77;
t90 = t6+t8+t26;
t91 = t30+t31+t34+t35+t51;
t70 = -t44;
t83 = -t55;
t84 = -t56;
t87 = -t74;
t89 = -t78;
t92 = t23+t24+t66+t81+t82;
t93 = t92.^2;
t94 = t27+t28+t67+t83+t84;
t97 = t39+t52+t57+t58+t59+t70+t85;
t99 = t32+t47+t48+t61+t71+t72+t75+t76+t86+t87;
t100 = t36+t40+t41+t62+t68+t69+t79+t80+t88+t89;
t95 = t94.^2;
t96 = t20.*t93;
t98 = t97.^2;
t101 = t95+t98;
t102 = t96+t98;
t103 = 1.0./t101;
t104 = 1.0./t102;
t105 = t104.^2;
t106 = t20.*t50.*t92.*t104;
t107 = t38.*t90.*t94.*t103;
t108 = t50.*t97.*t104.*w;
t109 = t91.*t92.*t104.*w;
t111 = t38.*t91.*t94.*t103;
t112 = t38.*t90.*t97.*t103;
t114 = t91.*t97.*t104;
t115 = t38.*t91.*t97.*t103;
t116 = t94.*t99.*t103;
t117 = t94.*t100.*t103;
t119 = t97.*t99.*t103;
t120 = t97.*t100.*t103;
t110 = -t109;
t113 = -t112;
t118 = -t117;
t121 = t106+t114;
t127 = t107+t115;
t132 = t116+t120;
t122 = t108+t110;
t123 = t121.^2;
t128 = t127.^2;
t130 = t111+t113+1.0;
t133 = t118+t119;
t124 = t38.*t122;
t126 = t60.*t123;
t131 = t130.^2;
t125 = t124-1.0;
t136 = t128+t131;
t129 = t125.^2;
t137 = 1.0./t136;
t134 = t126+t129;
t135 = 1.0./t134.^2;
et1 = t13.*t16+t14.*t15+t13.*t59+t14.*t59+t13.*t65+t14.*t65+t6.^2.*t14+t8.^2.*t13-K_f.*t14.*t34.*2.0-K_s.*t13.*t35.*2.0+t6.*t14.*t26+t8.*t13.*t26+t13.*t19.*t22+t14.*t18.*t22-K_f.*m_c.*t14.*t20.*2.0-K_s.*m_c.*t13.*t20.*2.0+m_c.*m_f.*t14.*t22.*2.0+m_c.*m_s.*t13.*t22.*2.0-F_f_mag.*F_s_mag.*t25.*t63.*2.0-F_f_mag.*F_s_mag.*t27.*t64.*2.0+F_f_mag.*F_s_mag.*t28.*t64.*2.0-F_f_mag.*F_s_mag.*t44.*t63.*2.0-F_f_mag.*F_s_mag.*t52.*t63.*2.0+F_f_mag.*F_s_mag.*t55.*t64.*2.0-F_f_mag.*F_s_mag.*t56.*t64.*2.0+F_f_mag.*F_s_mag.*t57.*t63.*2.0+F_f_mag.*F_s_mag.*t58.*t63.*2.0-F_f_mag.*F_s_mag.*t59.*t63.*2.0-F_f_mag.*F_s_mag.*t63.*t65.*2.0+F_f_mag.*F_s_mag.*K_f.*t26.*t64+F_f_mag.*F_s_mag.*K_f.*t51.*t63+F_f_mag.*F_s_mag.*K_s.*t51.*t63+F_f_mag.*F_s_mag.*t6.*t51.*t64-B_c.*F_f_mag.*F_s_mag.*K_s.*t64.*w.*2.0-B_c.*F_f_mag.*F_s_mag.*m_f.*t21.*t64.*2.0;
et2 = B_c.*F_f_mag.*F_s_mag.*t6.*t63.*w.*-2.0-B_c.*F_f_mag.*F_s_mag.*t8.*t63.*w.*2.0-F_f_mag.*F_s_mag.*m_c.*m_f.*t22.*t63.*2.0-F_f_mag.*F_s_mag.*m_c.*m_s.*t22.*t63.*2.0-F_f_mag.*F_s_mag.*m_c.*t8.*t20.*t64.*2.0+F_f_mag.*F_s_mag.*m_s.*t9.*t21.*t64;
real_P = (t38.*w.*(et1+et2).*(t20.*t50.^2+t91.^2).*(t96.*t105+t98.*t105).*(t126.*t135+t129.*t135))./(t15.*2.0+t16.*2.0+t25.*4.0+t44.*4.0+t52.*4.0-t57.*4.0-t58.*4.0+t59.*8.0+t65.*8.0-K_f.*t34.*4.0-K_s.*t35.*4.0+t18.*t22.*2.0+t19.*t22.*2.0+t6.^2.*2.0+t8.^2.*2.0-K_f.*m_c.*t20.*8.0-K_s.*m_c.*t20.*8.0+B_c.*t6.*w.*8.0+B_c.*t8.*w.*8.0+m_c.*m_f.*t22.*8.0+m_c.*m_s.*t22.*8.0);
if nargout > 1
    real_V_u = t130.*t132.*t137.*w-t127.*t137.*w.*(t117-t119);
end
if nargout > 2
    imag_V_u = t127.*t132.*t137.*w+t130.*t137.*w.*(t117-t119);
end
if nargout > 3
    real_G_u = -t20.*t50.*t97.*t104+t20.*t91.*t92.*t104;
end
if nargout > 4
    imag_G_u = -t114.*w-t21.*t50.*t92.*t104;
end
