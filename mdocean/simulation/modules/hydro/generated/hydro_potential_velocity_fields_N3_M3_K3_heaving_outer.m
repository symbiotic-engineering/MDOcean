function [hydro_nondim_NMK, phi_i1_NMK, phi_i2_NMK, phi_e_NMK, phi_p_i1_NMK, phi_p_i2_NMK, phi_h_i1_NMK, phi_h_i2_NMK, v_1_r_NMK, v_1_z_NMK, v_2_r_NMK, v_2_z_NMK, v_e_r_NMK, v_e_z_NMK] = hydro_potential_velocity_fields_N3_M3_K3_heaving_outer(a1, a2, d1, d2, h, m0, m_k_const1, m_k_const2, m_k_const3, C_1n_1_const1, C_1n_1_const2, C_1n_1_const3, C_1n_1_const4, C_1m_2_const1, C_1m_2_const2, C_1m_2_const3, C_1m_2_const4, C_2m_2_const1, C_2m_2_const2, C_2m_2_const3, C_2m_2_const4, B_k_const1, B_k_const2, B_k_const3, B_k_const4, r, z)
    % hydro_potential_velocity_fields_N3_M3_K3_heaving_outer
    %    [hydro_nondim_NMK,phi_i1_NMK,phi_i2_NMK,phi_e_NMK,phi_p_i1_NMK,phi_p_i2_NMK,phi_h_i1_NMK,phi_h_i2_NMK,v_1_r_NMK,v_1_z_NMK,v_2_r_NMK,v_2_z_NMK,v_e_r_NMK,v_e_z_NMK] = hydro_potential_velocity_fields_N3_M3_K3_heaving_outer(A1,A2,D1,D2,H,M0,M_K_CONST1,M_K_CONST2,M_K_CONST3,C_1n_1_const1,C_1n_1_const2,C_1n_1_const3,C_1n_1_const4,C_1m_2_const1,C_1m_2_const2,C_1m_2_const3,C_1m_2_const4,C_2m_2_const1,C_2m_2_const2,C_2m_2_const3,C_2m_2_const4,B_k_const1,B_k_const2,B_k_const3,B_k_const4,R,Z)

    %    This function was generated by the Symbolic Math Toolbox version 9.1.
    %    21-May-2024 02:37:38

    t2 = integral(@(r)-(sqrt(2.0) .* C_2m_2_const2 .* r .* besselk(0, -(r .* pi) ./ (d2 - h))) ./ besselk(0, -(a2 .* pi) ./ (d2 - h)), a1, a2);
    t3 = integral(@(r)(sqrt(2.0) .* C_2m_2_const3 .* r .* besselk(0, (r .* pi .* -2.0) ./ (d2 - h))) ./ besselk(0, (a2 .* pi .* -2.0) ./ (d2 - h)), a1, a2);
    t4 = integral(@(r)-(sqrt(2.0) .* C_2m_2_const4 .* r .* besselk(0, (r .* pi .* -3.0) ./ (d2 - h))) ./ besselk(0, (a2 .* pi .* -3.0) ./ (d2 - h)), a1, a2);
    t5 = log(a1);
    t6 = log(a2);
    t7 = log(r);
    t8 = a2 .* m0;
    t9 = a2 .* m_k_const1;
    t10 = a2 .* m_k_const2;
    t11 = a2 .* m_k_const3;
    t12 = m0 .* r;
    t13 = m_k_const1 .* r;
    t14 = m_k_const2 .* r;
    t15 = m_k_const3 .* r;
    t16 = h + z;
    t17 = a1.^2;
    t18 = a2.^2;
    t21 = d2 .* 2.0;
    t22 = h .* 2.0;
    t23 = h.^3;
    t24 = r.^2;
    t29 = 1.0 ./ pi;
    t30 = 1.0 ./ a2.^3;
    t31 = -h;
    t33 = 1.0 ./ h;
    t34 = 1.0 ./ m_k_const1;
    t35 = 1.0 ./ m_k_const2;
    t36 = 1.0 ./ m_k_const3;
    t41 = sqrt(2.0);
    t51 = C_1n_1_const1 ./ 2.0;
    t52 = C_1m_2_const1 ./ 2.0;
    t57 = sqrt(h);
    t58 = m0.^(3.0 ./ 2.0);
    t19 = t17.^2;
    t20 = t18.^2;
    t25 = m0 .* t22;
    t26 = m_k_const1 .* t22;
    t27 = m_k_const2 .* t22;
    t28 = m_k_const3 .* t22;
    t32 = -t22;
    t37 = m0 .* t16;
    t38 = m_k_const1 .* t16;
    t39 = m_k_const2 .* t16;
    t40 = m_k_const3 .* t16;
    t42 = besselh(0.0, 1, t8);
    t43 = besselk(0, t9);
    t44 = besselk(0, t10);
    t45 = besselk(0, t11);
    t46 = besselh(0.0, 1, t12);
    t47 = t16.^2;
    t48 = besselk(0, t13);
    t49 = besselk(0, t14);
    t50 = besselk(0, t15);
    t59 = t6 ./ 2.0;
    t60 = t7 ./ 2.0;
    t65 = d1 + t31;
    t66 = d2 + t31;
    t67 = t17 ./ 4.0;
    t68 = t18 ./ 4.0;
    t69 = t5 - 1.0 ./ 2.0;
    t70 = t6 - 1.0 ./ 2.0;
    t71 = t24 ./ 2.0;
    t83 = C_1m_2_const1 .* t17 .* (-1.0 ./ 4.0);
    t53 = sinh(t25);
    t54 = sin(t26);
    t55 = sin(t27);
    t56 = sin(t28);
    t61 = cosh(t37);
    t62 = cos(t38);
    t63 = cos(t39);
    t64 = cos(t40);
    t72 = -t60;
    t73 = -t68;
    t74 = -t71;
    t75 = C_1m_2_const1 .* t67;
    t76 = C_1m_2_const1 .* t68;
    t77 = t21 + t32;
    t78 = t66.^2;
    t79 = 1.0 ./ t42;
    t80 = 1.0 ./ t43;
    t81 = 1.0 ./ t44;
    t82 = 1.0 ./ t45;
    t84 = a2.^t67;
    t85 = 1.0 ./ t65;
    t86 = 1.0 ./ t66;
    t106 = (t17 .* t69) ./ 2.0;
    t107 = (t18 .* t70) ./ 2.0;
    t87 = t25 + t53;
    t88 = a2.^t73;
    t89 = 1.0 ./ t77;
    t90 = r .* t85 .* pi;
    t91 = r .* t86 .* pi;
    t92 = a2 .* t85 .* pi;
    t93 = a2 .* t86 .* pi;
    t105 = t47 + t74;
    t112 = t59 + t72;
    t113 = t16 .* t85 .* pi;
    t114 = t16 .* t86 .* pi;
    t120 = -t107;
    t134 = a1 .* t86 .* pi .* 1i;
    t135 = a1 .* t86 .* pi .* 2.0i;
    t137 = a1 .* t86 .* pi .* 3.0i;
    t157 = (t33 .* t34 .* t54) ./ 2.0;
    t158 = (t33 .* t35 .* t55) ./ 2.0;
    t159 = (t33 .* t36 .* t56) ./ 2.0;
    t94 = t90 .* 2.0;
    t95 = t90 .* 3.0;
    t96 = t91 .* 2.0;
    t97 = t91 .* 3.0;
    t98 = t92 .* 2.0;
    t99 = t92 .* 3.0;
    t100 = t93 .* 2.0;
    t101 = t93 .* 3.0;
    t102 = -t91;
    t108 = besseli(0, t92);
    t109 = besseli(0, t93);
    t110 = besseli(0, t90);
    t111 = besseli(0, t91);
    t115 = -t93;
    t118 = cos(t113);
    t119 = cos(t114);
    t129 = 1.0 ./ sqrt(t87);
    t130 = t113 .* 2.0;
    t131 = t113 .* 3.0;
    t132 = t114 .* 2.0;
    t133 = t114 .* 3.0;
    t136 = t93 .* 1i;
    t138 = t93 .* 2.0i;
    t139 = t93 .* 3.0i;
    t147 = C_2m_2_const1 .* t112;
    t151 = besselj(1, t134);
    t152 = besselj(1, t135);
    t154 = besselj(1, t137);
    t173 = (t19 .* t89) ./ 8.0;
    t174 = (t20 .* t89) ./ 8.0;
    t178 = t157 + 1.0;
    t179 = t158 + 1.0;
    t180 = t159 + 1.0;
    t181 = t84 .* t88;
    t191 = (t17 .* t78 .* t89) ./ 2.0;
    t192 = (t18 .* t78 .* t89) ./ 2.0;
    t193 = t89 .* t105;
    t196 = t106 + t120;
    t103 = -t96;
    t104 = -t97;
    t116 = -t100;
    t117 = -t101;
    t121 = besseli(0, t98);
    t122 = besseli(0, t99);
    t123 = besseli(0, t100);
    t124 = besseli(0, t101);
    t125 = besseli(0, t94);
    t126 = besseli(0, t95);
    t127 = besseli(0, t96);
    t128 = besseli(0, t97);
    t140 = cos(t130);
    t141 = cos(t131);
    t142 = cos(t132);
    t143 = cos(t133);
    t144 = besselk(0, t115);
    t148 = besselk(0, t102);
    t153 = besselj(1, t136);
    t155 = besselj(1, t138);
    t156 = besselj(1, t139);
    t160 = 1.0 ./ t108;
    t161 = 1.0 ./ t109;
    t162 = -t147;
    t167 = a1 .* t151;
    t168 = a1 .* t152;
    t169 = a1 .* t154;
    t182 = -t173;
    t186 = log(t181);
    t188 = 1.0 ./ sqrt(t178);
    t189 = 1.0 ./ sqrt(t179);
    t190 = 1.0 ./ sqrt(t180);
    t194 = -t192;
    t195 = -t193;
    t198 = (C_2m_2_const1 .* t196) ./ 2.0;
    t145 = besselk(0, t116);
    t146 = besselk(0, t117);
    t149 = besselk(0, t103);
    t150 = besselk(0, t104);
    t163 = 1.0 ./ t121;
    t164 = 1.0 ./ t122;
    t165 = 1.0 ./ t123;
    t166 = 1.0 ./ t124;
    t170 = a2 .* t153;
    t171 = a2 .* t155;
    t172 = a2 .* t156;
    t175 = 1.0 ./ t144;
    t187 = C_2m_2_const1 .* t186;
    t197 = C_1m_2_const2 .* t111 .* t161;
    t201 = -t198;
    et1 = t75 + t173 - t174 - t187 - t191 + t192 + t198 + C_1m_2_const1 .* t73 + (C_2m_2_const3 .* t29 .* t41 .* t66 .* (a1 .* besselk(1, a1 .* t86 .* pi .* -2.0) - a2 .* besselk(1, t93 .* -2.0))) ./ (besselk(0, t93 .* -2.0) .* 2.0) - (C_2m_2_const4 .* t29 .* t41 .* t66 .* (a1 .* besselk(1, a1 .* t86 .* pi .* -3.0) - a2 .* besselk(1, t93 .* -3.0))) ./ (besselk(0, t93 .* -3.0) .* 3.0) - (C_2m_2_const2 .* t29 .* t41 .* t66 .* (-a2 .* besselk(1, t115) + a1 .* besselk(1, -a1 .* t86 .* pi))) ./ besselk(0, t115) + (C_1m_2_const2 .* t29 .* t41 .* t66 .* (a1 .* besselj(1, t134) - a2 .* besselj(1, t136)) .* 1i) ./ besseli(0, t93) - (C_1m_2_const3 .* t29 .* t41 .* t66 .* (a1 .* besselj(1, t135) - a2 .* besselj(1, t138)) .* 5.0e-1i) ./ besseli(0, t100);
    et2 = (C_1m_2_const4 .* t29 .* t41 .* t66 .* (a1 .* besselj(1, t137) - a2 .* besselj(1, t139)) .* 3.333333333333333e-1i) ./ besseli(0, t101);
    if d2 < h
        hydro_nondim_NMK = t23 .* t30 .* (et1 + et2) .* -2.0;
    elseif h <= d2
        hydro_nondim_NMK = t22 .* t30 .* 1.0 ./ t33.^2 .* (t2 + t3 + t4 + t76 + t83 + t174 + t182 + t187 + t191 + t194 + t201 - (C_1m_2_const2 .* t29 .* t41 .* t66 .* (a1 .* besselj(1, t134) - a2 .* besselj(1, t136)) .* 1i) ./ besseli(0, t93) + (C_1m_2_const3 .* t29 .* t41 .* t66 .* (a1 .* besselj(1, t135) - a2 .* besselj(1, t138)) .* 5.0e-1i) ./ besseli(0, t100) - (C_1m_2_const4 .* t29 .* t41 .* t66 .* (a1 .* besselj(1, t137) - a2 .* besselj(1, t139)) .* 3.333333333333333e-1i) ./ besseli(0, t101));
    else
        hydro_nondim_NMK = NaN;
    end
    if nargout > 1
        t208 = C_1n_1_const2 .* t41 .* t110 .* t118 .* t160;
        t176 = 1.0 ./ t145;
        t177 = 1.0 ./ t146;
        t183 = -t170;
        t184 = -t171;
        t185 = -t172;
        t199 = C_1m_2_const3 .* t127 .* t165;
        t200 = C_1m_2_const4 .* t128 .* t166;
        t202 = C_2m_2_const2 .* t148 .* t175;
        t209 = C_1n_1_const3 .* t41 .* t125 .* t140 .* t163;
        t210 = C_1n_1_const4 .* t41 .* t126 .* t141 .* t164;
        t203 = C_2m_2_const3 .* t149 .* t176;
        t204 = C_2m_2_const4 .* t150 .* t177;
        t205 = t167 + t183;
        t206 = t168 + t184;
        t207 = t169 + t185;
        t211 = t197 + t202;
        t222 = t51 + t208 + t209 + t210;
        phi_i1_NMK = t222;
    end
    if nargout > 2
        t212 = t199 + t203;
        t213 = t200 + t204;
        t214 = C_1m_2_const2 .* t29 .* t41 .* t66 .* t161 .* t205 .* 1i;
        t216 = C_1m_2_const3 .* t29 .* t41 .* t66 .* t165 .* t206 .* 5.0e-1i;
        t217 = C_1m_2_const4 .* t29 .* t41 .* t66 .* t166 .* t207 .* 3.333333333333333e-1i;
        t219 = t41 .* t119 .* t211;
        t215 = -t214;
        t218 = -t217;
        t220 = t41 .* t142 .* t212;
        t221 = t41 .* t143 .* t213;
        phi_i2_NMK = t52 + t162 + t195 + t219 + t220 + t221;
    end
    if nargout > 3
        phi_e_NMK = B_k_const2 .* t41 .* t48 .* t62 .* t80 .* t188 + B_k_const3 .* t41 .* t49 .* t63 .* t81 .* t189 + B_k_const4 .* t41 .* t50 .* t64 .* t82 .* t190 + B_k_const1 .* sqrt(m0) .* t46 .* t57 .* t61 .* t79 .* t129 .* 2.0;
    end
    if nargout > 4
        phi_p_i1_NMK = 0.0;
    end
    if nargout > 5
        phi_p_i2_NMK = t195;
    end
    if nargout > 6
        phi_h_i1_NMK = t222;
    end
    if nargout > 7
        phi_h_i2_NMK = t52 + t162 + t219 + t220 + t221;
    end
    if nargout > 8
        v_1_r_NMK = C_1n_1_const2 .* t41 .* t85 .* t118 .* t160 .* pi .* besseli(1, t90) + C_1n_1_const3 .* t41 .* t85 .* t140 .* t163 .* pi .* besseli(1, t94) .* 2.0 + C_1n_1_const4 .* t41 .* t85 .* t141 .* t164 .* pi .* besseli(1, t95) .* 3.0;
    end
    if nargout > 9
        v_1_z_NMK = -C_1n_1_const2 .* t41 .* t85 .* t110 .* t160 .* pi .* sin(t113) - C_1n_1_const3 .* t41 .* t85 .* t125 .* t163 .* pi .* sin(t130) .* 2.0 - C_1n_1_const4 .* t41 .* t85 .* t126 .* t164 .* pi .* sin(t131) .* 3.0;
    end
    if nargout > 10
        v_2_r_NMK = r .* t89 + C_2m_2_const1 ./ (r .* 2.0) + t41 .* t119 .* (C_1m_2_const2 .* t86 .* t161 .* pi .* besseli(1, t91) + C_2m_2_const2 .* t86 .* t175 .* pi .* besselk(1, t102)) + t41 .* t142 .* (C_1m_2_const3 .* t86 .* t165 .* pi .* besseli(1, t96) .* 2.0 + C_2m_2_const3 .* t86 .* t176 .* pi .* besselk(1, t103) .* 2.0) + t41 .* t143 .* (C_1m_2_const4 .* t86 .* t166 .* pi .* besseli(1, t97) .* 3.0 + C_2m_2_const4 .* t86 .* t177 .* pi .* besselk(1, t104) .* 3.0);
    end
    if nargout > 11
        v_2_z_NMK = t16 .* t89 .* -2.0 - t41 .* t86 .* t211 .* pi .* sin(t114) - t41 .* t86 .* t212 .* pi .* sin(t132) .* 2.0 - t41 .* t86 .* t213 .* pi .* sin(t133) .* 3.0;
    end
    if nargout > 12
        v_e_r_NMK = -B_k_const2 .* m_k_const1 .* t41 .* t62 .* t80 .* t188 .* besselk(1, t13) - B_k_const3 .* m_k_const2 .* t41 .* t63 .* t81 .* t189 .* besselk(1, t14) - B_k_const4 .* m_k_const3 .* t41 .* t64 .* t82 .* t190 .* besselk(1, t15) - B_k_const1 .* t57 .* t58 .* t61 .* t79 .* t129 .* besselh(1.0, 1, t12) .* 2.0;
    end
    if nargout > 13
        v_e_z_NMK = -B_k_const2 .* m_k_const1 .* t41 .* t48 .* t80 .* t188 .* sin(t38) - B_k_const3 .* m_k_const2 .* t41 .* t49 .* t81 .* t189 .* sin(t39) - B_k_const4 .* m_k_const3 .* t41 .* t50 .* t82 .* t190 .* sin(t40) + B_k_const1 .* t46 .* t57 .* t58 .* t79 .* t129 .* sinh(t37) .* 2.0;
    end
